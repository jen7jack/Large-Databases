--------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/jenniferjackson/Desktop/NYU/Large Databases/PS2/JenniferJackson_PS2.log
  log type:  text
 opened on:  19 Feb 2019, 17:12:04

. do "/Users/jenniferjackson/Desktop/NYU/Large Databases/PS2/JenniferJackson_PS2.do"

. * Jennifer Jackson
. * 19 February 2019
. 
. * APSTA.GE 2110
. * Problem Set 2
. 
. * PROBLEM 1 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. * This .do file analyses data from the National Longitudinal Survey of Youth
. * of 1979 (NLSY-79) from the Bureau of Labor Statistics
. 
. * PROBLEM 2 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. * change working directory
. cd "/Users/jenniferjackson/Desktop"
/Users/jenniferjackson/Desktop

. * open data set
. use "NLSY_women_v12.dta"

. * 4,440 observations
. use "NLSY_children_v12.dta"

. * 1,557 observations
. 
. * PROBLEM 3 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. use "/Users/jenniferjackson/Desktop/NLSY_women_v12.dta"

. summarize nlsyid

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      nlsyid |      4,440    6167.557    3592.623          1      12675

. * There are 4,440 unique values of nlsyid in the women dataset.
. 
. use "/Users/jenniferjackson/Desktop/NLSY_children_v12.dta"

. summarize nlsyid

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      nlsyid |      1,557    5149.938    3294.661          2      12566

. * There are 1,557 unique values of childid in the children dataset.
. 
. by nlsyid, sort: gen mothers = _n == 1

. count if mothers
  1,177

. * There are 1,177 unique values of nlsyid in the children dataset, implying
. * there are duplicates.
. 
. * PROBLEM 4 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. * It is best to match nlsyid because this ID is in both datasets.
. 
. * Re-open the women's dataset so it is the master.
. use "/Users/jenniferjackson/Desktop/NLSY_women_v12.dta", clear

. 
. merge 1:m nlsyid using "/Users/jenniferjackson/Desktop/NLSY_children_v12.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                         4,051
        from master                     3,602  (_merge==1)
        from using                        449  (_merge==2)

    matched                             1,108  (_merge==3)
    -----------------------------------------

. 
. * master only: 3,602               i.e., number of women not matched to a child
. * using only: 449                  i.e., '' '' children not matched to a mother
. * observation is in both: 1,108    i.e., '' '' mothers matched to a child
. 
. * And thus, the number of children matched to a mother is also 1,108.
. 
. * PROBLEM 5 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. tabstat afqt if !missing(childid)

    variable |      mean
-------------+----------
        afqt |  43.78399
------------------------

. * The average AFQT score of women with children is 43.8.
. tabstat age if !missing(childid)

    variable |      mean
-------------+----------
         age |  16.98105
------------------------

. * The average age of women with children is 17.
. 
. tabstat afqt if missing(childid)

    variable |      mean
-------------+----------
        afqt |  40.60994
------------------------

. * The average AFQT score of women without children is 40.6
. tabstat age if missing(childid)

    variable |      mean
-------------+----------
         age |   18.0794
------------------------

. * The average age of women without children is 18.
. 
. * PROBLEM 6 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. drop if missing(childid)
(3,602 observations deleted)

. drop if missing(afqt)
(483 observations deleted)

. drop if missing(mathzscore)
(76 observations deleted)

. summarize nlsyid

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      nlsyid |        998    5091.237    3301.963         16      12566

. * Only looking at those women who are mothers, who have an AFQT score and whose
. * children have a mathzscore, we have 998 observations.
. 
. * PROBLEM 7 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. corr mathzscore afqt
(obs=998)

             | mathzs~e     afqt
-------------+------------------
  mathzscore |   1.0000
        afqt |   0.5088   1.0000


. * Pearson Correlation Coefficient between AFQT and mathzscore = 0.51
. 
. gen boys_math = mathzscore if childsex == 1
(514 missing values generated)

. corr boys_math afqt
(obs=484)

             | boys_m~h     afqt
-------------+------------------
   boys_math |   1.0000
        afqt |   0.5156   1.0000


. * Pearson Correlation Coefficient between AFQT and boys' mathzscore = 0.52
. 
. gen girls_math = mathzscore if childsex == 2
(484 missing values generated)

. corr girls_math afqt
(obs=514)

             | girls_~h     afqt
-------------+------------------
  girls_math |   1.0000
        afqt |   0.5058   1.0000


. * Pearson Correlation Coefficient between AFQT and girls' mathzscore = 0.51
. 
. * There is only a slightly stronger correlation between the boys' math scores
. * and mothers' AFQT scores than that of girls' math scores.
. 
. * PROBLEM 8 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. 
. *(saving and closing log file)
. 
. 
. 
. 
. 
. 
. 
end of do-file

. log close
      name:  <unnamed>
       log:  /Users/jenniferjackson/Desktop/NYU/Large Databases/PS2/JenniferJackson_PS2.log
  log type:  text
 closed on:  19 Feb 2019, 17:12:15
--------------------------------------------------------------------------------------------
